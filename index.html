<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é£›é£›å°å°å­ï¼šå¤šåˆä¸€äº’å‹•å­¸ç¿’éŠæˆ²</title>
    <!-- å¼•å…¥ Tailwind CSS CDNï¼Œç”¨æ–¼å¿«é€Ÿæ’ç‰ˆå’Œæ¨£å¼è¨­å®š -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥ Google Fonts çš„ Inter å­—é«”ï¼Œæä¾›æ¸…æ™°ç¾ä»£çš„æ–‡å­—é¡¯ç¤º -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* æ•´é«”ç¶²é èƒŒæ™¯é¡è‰²å’Œå­—é«”è¨­å®š */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fce4ec; /* æ·ºç²‰è‰²èƒŒæ™¯ï¼Œç‡Ÿé€ ç«¥è¶£æ°›åœ */
            min-height: 100vh; /* ç¢ºä¿è‡³å°‘ä½”æ»¿æ•´å€‹è¦–çª—é«˜åº¦ */
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1rem; /* æ•´é«”å…§é‚Šè· */
        }
        /* ä¸»è¦éŠæˆ²å®¹å™¨æ¨£å¼ */
        .main-game-container {
            background-color: #ffffff;
            border-radius: 2rem; /* åœ“è§’ */
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15); /* é™°å½± */
            padding: 2rem;
            max-width: 1000px; /* æœ€å¤§å¯¬åº¦ */
            width: 100%;
            margin-top: 1rem;
            flex-grow: 1; /* è®“å®¹å™¨å¡«å……å¯ç”¨ç©ºé–“ */
            display: flex;
            flex-direction: column;
            position: relative; /* ç”¨æ–¼å…§éƒ¨çµ•å°å®šä½å…ƒç´  */
        }
        /* æ¨™é¡Œæ¨£å¼ */
        .game-title {
            color: #d81b60; /* æ·±ç²‰è‰² */
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 1.5rem;
        }
        /* æ³¨éŸ³ç¬¦è™Ÿæ¨£å¼ */
        .zhuyin {
            font-size: 0.65em;
            color: #666;
            display: block;
            margin-top: 0.1em;
        }

        /* å°èˆªæŒ‰éˆ•æ¨£å¼ */
        .nav-button {
            padding: 0.75rem 1.5rem;
            font-size: 1.25rem;
            font-weight: bold;
            border-radius: 0.75rem;
            background-color: #f48fb1; /* æ·ºç²‰è‰²æŒ‰éˆ•èƒŒæ™¯ */
            color: white;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin: 0.5rem;
        }
        .nav-button:hover {
            background-color: #ec407a; /* æ·±ä¸€é»çš„ç²‰è‰² */
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        .nav-button.active {
            background-color: #d81b60; /* æ›´æ·±çš„ç²‰è‰² */
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
            transform: translateY(0);
        }

        /* éŠæˆ²å€å¡Šé€šç”¨æ¨£å¼ */
        .game-section {
            display: none; /* é è¨­éš±è—æ‰€æœ‰éŠæˆ²å€å¡Š */
            padding: 1.5rem 0;
            flex-grow: 1;
            /* background-color: #fdfdfd; */
            border-radius: 1.5rem;
            /* box-shadow: inset 0 0 8px rgba(0,0,0,0.05); */
        }
        .game-section.active {
            display: flex; /* é¡¯ç¤ºç•¶å‰æ´»èºçš„éŠæˆ²å€å¡Š */
            flex-direction: column;
            align-items: center;
        }

        /* ----- éŠæˆ² 1: å­—è©é…å°éŠæˆ² (Word Matching Game) æ¨£å¼ ----- */
        .wm-area {
            background-color: #f0f0f0; /* é…å°éŠæˆ²çš„æ·ºç°èƒŒæ™¯ */
            border-radius: 1.5rem;
            padding: 2rem;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.05);
            width: 100%;
        }
        .wm-drag-item, .wm-drop-zone {
            background-color: #ffffff;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 1rem;
            margin: 0.75rem 0;
            cursor: grab;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80px;
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: #333;
            border: 2px solid #ccc;
            transition: all 0.2s ease-in-out;
        }
        .wm-drop-zone {
            cursor: default;
            background-color: #f0f0f0;
            border-style: dashed;
        }
        .wm-drag-item:hover { transform: translateY(-3px); box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15); }
        .wm-dragging { opacity: 0.5; border: 2px dashed #007bff; }
        .wm-correct-match { background-color: #c8e6c9; border-color: #4caf50; color: #1b5e20; cursor: default; }
        .wm-matched { pointer-events: none; }
        .wm-left-column { background-color: #e3f2fd; } /* æ·ºè— */
        .wm-right-column { background-color: #e0f2f7; } /* æ·ºç¶  */

        /* ----- éŠæˆ² 2: è©èªé€ å¥éŠæˆ² (Sentence Construction Game) æ¨£å¼ ----- */
        .sc-container {
            background-color: #f9fbe7; /* é€ å¥éŠæˆ²çš„æ·ºé»ƒç¶ èƒŒæ™¯ */
            border-radius: 1.5rem;
            padding: 2rem;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.05);
            width: 100%;
        }
        .sc-sentence-box {
            background-color: #e3f2fd; /* æ·ºè—è‰² */
            border-radius: 1.25rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            font-size: 1.8rem;
            color: #1a237e;
            font-weight: 600;
        }
        .sc-blank-slot {
            display: inline-block;
            background-color: #ffffff;
            border: 2px dashed #90caf9;
            border-radius: 0.5rem;
            min-width: 150px;
            min-height: 50px;
            margin: 0 0.5rem;
            vertical-align: middle;
            text-align: center;
            line-height: 50px;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            color: transparent;
        }
        .sc-blank-slot.active { border-color: #42a5f5; background-color: #bbdefb; }
        .sc-word-option {
            background-color: #ffe0b2;
            border-radius: 1rem;
            padding: 0.75rem 1.5rem;
            margin: 0.5rem;
            cursor: grab;
            font-size: 1.4rem;
            font-weight: bold;
            color: #e65100;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: all 0.2s ease-in-out;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .sc-word-option:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15); }
        .sc-dragging { opacity: 0.6; }
        .sc-used { opacity: 0.4; cursor: default; pointer-events: none; background-color: #ccc; color: #666; }
        .sc-correct-feedback { background-color: #c8e6c9; border-color: #4caf50; }
        .sc-correct-feedback::before { content: 'âœ…'; margin-right: 0.5rem; animation: pop 0.3s ease-out; }
        .sc-incorrect-feedback { background-color: #ffcdd2; border-color: #f44336; }
        .sc-incorrect-feedback::before { content: 'âŒ'; margin-right: 0.5rem; animation: shake 0.3s ease-out; }
        @keyframes pop { 0% { transform: scale(0); } 75% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 20%, 60% { transform: translateX(-5px); } 40%, 80% { transform: translateX(5px); } }

        /* ----- éŠæˆ² 3: è©èªåˆ†é¡éŠæˆ² (Word Categorization Game) æ¨£å¼ ----- */
        .wc-container {
            background-color: #f3e5f5; /* åˆ†é¡éŠæˆ²çš„æ·ºç´«è‰²èƒŒæ™¯ */
            border-radius: 1.5rem;
            padding: 2rem;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.05);
            width: 100%;
        }
        .wc-category-zone {
            background-color: #e8f5e9;
            border-radius: 1.5rem;
            padding: 1.5rem;
            min-height: 180px;
            border: 3px dashed #a5d6a7;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            text-align: center;
            transition: all 0.2s ease-in-out;
            margin-bottom: 1rem;
            position: relative;
            overflow: hidden;
        }
        .wc-category-zone.gold { background-color: #fffde7; border-color: #ffe082; }
        .wc-category-zone.person { background-color: #e3f2fd; border-color: #90caf9; }
        .wc-category-zone.weather { background-color: #e0f2f7; border-color: #81d4fa; }
        .wc-category-zone.emotion { background-color: #f8bbd0; border-color: #f06292; }
        .wc-category-zone h3 { font-size: 2rem; font-weight: bold; margin-bottom: 1rem; color: #424242; }
        .wc-category-zone.active { border-style: solid; border-width: 4px; transform: scale(1.02); }
        .wc-word-card {
            background-color: #ffffff;
            border-radius: 1rem;
            padding: 0.75rem 1.5rem;
            margin: 0.5rem;
            cursor: grab;
            font-size: 1.4rem;
            font-weight: bold;
            color: #333;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.2s ease-in-out;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .wc-word-card:hover { transform: translateY(-3px); box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15); }
        .wc-dragging { opacity: 0.6; border: 2px dashed #007bff; }
        .wc-matched { cursor: default; pointer-events: none; box-shadow: none; border: 1px solid #eee; background-color: #f0f0f0; color: #888; }


        /* é€šç”¨å›é¥‹å½ˆçª—ç–ŠåŠ å±¤æ¨£å¼ */
        .feedback-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }
        .feedback-overlay.show {
            opacity: 1;
            visibility: visible;
        }
        .feedback-content {
            background-color: #fff;
            padding: 3rem;
            border-radius: 2rem;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            font-size: 2rem;
            font-weight: bold;
        }
        .feedback-content.correct { color: #4caf50; }
        .feedback-content.incorrect { color: #f44336; }
        .completion-message {
            background-color: #dcedc8;
            color: #33691e;
            padding: 1.5rem;
            border-radius: 1.5rem;
            text-align: center;
            font-size: 2.2rem;
            font-weight: bold;
            margin-top: 2rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .wm-left-column, .wm-right-column,
            .sc-sentence-box, .sc-word-option,
            .wc-category-zone, .wc-word-card {
                font-size: 1.2rem; /* Smaller font for mobile */
                padding: 0.5rem 1rem;
                min-height: 60px;
            }
            .zhuyin {
                font-size: 0.55em;
            }
            .sc-blank-slot {
                min-width: 100px;
                min-height: 40px;
                line-height: 40px;
            }
            .wc-category-zone h3 {
                font-size: 1.5rem;
            }
            .feedback-content {
                font-size: 1.5rem;
                padding: 2rem;
            }
            .completion-message {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center">
    <div class="main-game-container">
        <h1 class="game-title text-4xl font-extrabold text-center">
            é£›é£›å°å°å­ï¼šå¤šåˆä¸€äº’å‹•å­¸ç¿’éŠæˆ²
        </h1>

        <!-- å°èˆªæŒ‰éˆ•å€å¡Š -->
        <div class="flex flex-wrap justify-center mb-6">
            <button class="nav-button active" data-game="matching">å­—è©é…å°éŠæˆ²</button>
            <button class="nav-button" data-game="sentence">è©èªé€ å¥éŠæˆ²</button>
            <button class="nav-button" data-game="categorization">è©èªåˆ†é¡éŠæˆ²</button>
        </div>

        <!-- éŠæˆ²å€å¡Šå®¹å™¨ -->
        <div id="game-sections-wrapper" class="flex-grow w-full">
            <!-- Game 1: å­—è©é…å°éŠæˆ² (Word Matching Game) -->
            <div id="game-matching" class="game-section active">
                <h2 class="text-3xl font-bold text-center text-blue-700 mb-6">å­—è©é…å°éŠæˆ²</h2>
                <div class="wm-area grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- å·¦æ¬„ï¼šç”Ÿå­— (Characters) -->
                    <div id="wm-left-column" class="flex flex-col items-center p-4 wm-left-column rounded-xl shadow-inner">
                        <h3 class="text-2xl font-bold text-blue-800 mb-4">ç”Ÿå­—</h3>
                        <div class="wm-drag-item" draggable="true" data-word="é›">é›<span class="zhuyin">(ã„ã„§)</span></div>
                        <div class="wm-drag-item" draggable="true" data-word="é›£">é›£<span class="zhuyin">(ã„‹ã„¢ËŠ)</span></div>
                        <div class="wm-drag-item" draggable="true" data-word="å°">å°<span class="zhuyin">(ã„‰ã„¨ã„ŸË‹)</span></div>
                        <div class="wm-drag-item" draggable="true" data-word="ç™¾">ç™¾<span class="zhuyin">(ã„…ã„Ë‡)</span></div>
                        <div class="wm-drag-item" draggable="true" data-word="åƒ">åƒ<span class="zhuyin">(ã„‘ã„§ã„¢)</span></div>
                        <div class="wm-drag-item" draggable="true" data-word="è¬">è¬<span class="zhuyin">(ã„¨ã„¢Ë‹)</span></div>
                        <div class="wm-drag-item" draggable="true" data-word="éœ§">éœ§<span class="zhuyin">(ã„¨Ë‹)</span></div>
                        <div class="wm-drag-item" draggable="true" data-word="ç•«">ç•«<span class="zhuyin">(ã„ã„¨ã„šË‹)</span></div>
                    </div>
                    <!-- å³æ¬„ï¼šè©èª (Words/Phrases) -->
                    <div id="wm-right-column" class="flex flex-col items-center p-4 wm-right-column rounded-xl shadow-inner">
                        <h3 class="text-2xl font-bold text-green-800 mb-4">è©èª</h3>
                        <div class="wm-drop-zone" data-match="é›">å…¬é›<span class="zhuyin">(ã„ã„¨ã„¥ ã„ã„§)</span></div>
                        <div class="wm-drop-zone" data-match="é›£">å›°é›£<span class="zhuyin">(ã„ã„¨ã„£Ë‹ ã„‹ã„¢ËŠ)</span></div>
                        <div class="wm-drop-zone" data-match="å°">å°ä¸èµ·<span class="zhuyin">(ã„‰ã„¨ã„ŸË‹ ã„…ã„¨Ë‹ ã„‘ã„§Ë‡)</span></div>
                        <div class="wm-drop-zone" data-match="ç™¾">å››ç™¾å…ƒ<span class="zhuyin">(ã„™Ë‹ ã„…ã„Ë‡ ã„©ã„¢ËŠ)</span></div>
                        <div class="wm-drop-zone" data-match="åƒ">åƒé‡‘<span class="zhuyin">(ã„‘ã„§ã„¢ ã„ã„§ã„£)</span></div>
                        <div class="wm-drop-zone" data-match="è¬">è¬ä¸€<span class="zhuyin">(ã„¨ã„¢Ë‹ ã„§)</span></div>
                        <div class="wm-drop-zone" data-match="éœ§">èµ·éœ§<span class="zhuyin">(ã„‘ã„§Ë‡ ã„¨Ë‹)</span></div>
                        <div class="wm-drop-zone" data-match="ç•«">ç•«å®¶<span class="zhuyin">(ã„ã„¨ã„šË‹ ã„ã„§ã„š)</span></div>
                    </div>
                </div>
                <div id="wm-feedback-message" class="mt-8 text-center text-3xl font-bold text-purple-700 hidden">
                    å¤ªæ£’äº†ï¼ä½ å®Œæˆäº†æ‰€æœ‰é…å°ï¼
                </div>
            </div>

            <!-- Game 2: è©èªé€ å¥éŠæˆ² (Sentence Construction Game) -->
            <div id="game-sentence" class="game-section">
                <h2 class="text-3xl font-bold text-center text-purple-700 mb-6">è©èªé€ å¥éŠæˆ²</h2>
                <div class="sc-container flex flex-col items-center">
                    <div id="sc-sentences-area" class="w-full">
                        <div class="sc-sentence-box" data-correct-word="å››ç™¾å…ƒ" data-sentence-id="s1">
                            æˆ‘æœ‰<span class="sc-blank-slot" data-blank-id="b1"></span>ã€‚
                        </div>
                        <div class="sc-sentence-box" data-correct-word="èµ·éœ§" data-sentence-id="s2">
                            å¤©æ°£å¾ˆå†·ï¼Œè€Œä¸”<span class="sc-blank-slot" data-blank-id="b2"></span>äº†ã€‚
                        </div>
                        <div class="sc-sentence-box" data-correct-word="å°ä¸èµ·" data-sentence-id="s3">
                            æˆ‘åšéŒ¯äº†äº‹ï¼Œè¦èªª<span class="sc-blank-slot" data-blank-id="b3"></span>ã€‚
                        </div>
                        <div class="sc-sentence-box" data-correct-word="ç•«å®¶" data-sentence-id="s4">
                            ä»–æ˜¯ä¸€ä½<span class="sc-blank-slot" data-blank-id="b4"></span>ï¼Œæ¯å¤©éƒ½åœ¨ç•«åœ–ã€‚
                        </div>
                    </div>
                    <div id="sc-word-options" class="flex flex-wrap justify-center mt-8 p-4 bg-gray-100 rounded-xl shadow-inner">
                        <div class="sc-word-option" draggable="true" data-word="å››ç™¾å…ƒ">å››ç™¾å…ƒ<span class="zhuyin">(ã„™Ë‹ ã„…ã„Ë‡ ã„©ã„¢ËŠ)</span></div>
                        <div class="sc-word-option" draggable="true" data-word="åƒé‡‘">åƒé‡‘<span class="zhuyin">(ã„‘ã„§ã„¢ ã„ã„§ã„£)</span></div>
                        <div class="sc-word-option" draggable="true" data-word="èµ·éœ§">èµ·éœ§<span class="zhuyin">(ã„‘ã„§Ë‡ ã„¨Ë‹)</span></div>
                        <div class="sc-word-option" draggable="true" data-word="å°ä¸èµ·">å°ä¸èµ·<span class="zhuyin">(ã„‰ã„¨ã„ŸË‹ ã„…ã„¨Ë‹ ã„‘ã„§Ë‡)</span></div>
                        <div class="sc-word-option" draggable="true" data-word="ç•«å®¶">ç•«å®¶<span class="zhuyin">(ã„ã„¨ã„šË‹ ã„ã„§ã„š)</span></div>
                    </div>
                    <div id="sc-completion-message" class="mt-8 text-center text-3xl font-bold text-green-700 hidden">
                        æ­å–œä½ ï¼æ‰€æœ‰å¥å­éƒ½å®Œæˆäº†ï¼ğŸ‰
                    </div>
                </div>
            </div>

            <!-- Game 3: è©èªåˆ†é¡éŠæˆ² (Word Categorization Game) -->
            <div id="game-categorization" class="game-section">
                <h2 class="text-3xl font-bold text-center text-pink-700 mb-6">è©èªåˆ†é¡éŠæˆ²</h2>
                <div class="wc-container flex flex-col items-center">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 w-full mb-8">
                        <div id="wc-gold-category" class="wc-category-zone gold" data-category="é‡‘éŒ¢é¡">
                            <h3>ğŸ’° é‡‘éŒ¢é¡</h3>
                            <img src="https://placehold.co/80x80/ffe082/673ab7?text=éŒ¢" alt="é‡‘éŒ¢åœ–æ¡ˆ" class="absolute top-4 right-4 opacity-30">
                        </div>
                        <div id="wc-person-category" class="wc-category-zone person" data-category="äººç‰©é¡">
                            <h3>ğŸ‘¥ äººç‰©é¡</h3>
                            <img src="https://placehold.co/80x80/c8e6c9/2e7d32?text=äºº" alt="äººç‰©åœ–æ¡ˆ" class="absolute top-4 right-4 opacity-30">
                        </div>
                        <div id="wc-weather-category" class="wc-category-zone weather" data-category="å¤©æ°£é¡">
                            <h3>ğŸŒ¦ å¤©æ°£é¡</h3>
                            <img src="https://placehold.co/80x80/e1f5fe/1976d2?text=å¤©æ°£" alt="å¤©æ°£åœ–æ¡ˆ" class="absolute top-4 right-4 opacity-30">
                        </div>
                        <div id="wc-emotion-category" class="wc-category-zone emotion" data-category="æƒ…ç·’/è¡Œç‚ºé¡">
                            <h3>ğŸ§  æƒ…ç·’/è¡Œç‚ºé¡</h3>
                            <img src="https://placehold.co/80x80/bbdefb/0d47a1?text=æ€è€ƒ" alt="æƒ…ç·’åœ–æ¡ˆ" class="absolute top-4 right-4 opacity-30">
                        </div>
                    </div>
                    <div id="wc-word-cards-area" class="flex flex-wrap justify-center p-4 bg-gray-100 rounded-xl shadow-inner w-full">
                        <div class="wc-word-card" draggable="true" data-word="å››ç™¾å…ƒ" data-category-type="é‡‘éŒ¢é¡">å››ç™¾å…ƒ<span class="zhuyin">(ã„™Ë‹ ã„…ã„Ë‡ ã„©ã„¢ËŠ)</span></div>
                        <div class="wc-word-card" draggable="true" data-word="åƒé‡‘" data-category-type="é‡‘éŒ¢é¡">åƒé‡‘<span class="zhuyin">(ã„‘ã„§ã„¢ ã„ã„§ã„£)</span></div>
                        <div class="wc-word-card" draggable="true" data-word="ç•«å®¶" data-category-type="äººç‰©é¡">ç•«å®¶<span class="zhuyin">(ã„ã„¨ã„šË‹ ã„ã„§ã„š)</span></div>
                        <div class="wc-word-card" draggable="true" data-word="å…¬é›" data-category-type="äººç‰©é¡">å…¬é›<span class="zhuyin">(ã„ã„¨ã„¥ ã„ã„§)</span></div>
                        <div class="wc-word-card" draggable="true" data-word="èµ·éœ§" data-category-type="å¤©æ°£é¡">èµ·éœ§<span class="zhuyin">(ã„‘ã„§Ë‡ ã„¨Ë‹)</span></div>
                        <div class="wc-word-card" draggable="true" data-word="å›°é›£" data-category-type="æƒ…ç·’/è¡Œç‚ºé¡">å›°é›£<span class="zhuyin">(ã„ã„¨ã„£Ë‹ ã„‹ã„¢ËŠ)</span></div>
                        <div class="wc-word-card" draggable="true" data-word="å°ä¸èµ·" data-category-type="æƒ…ç·’/è¡Œç‚ºé¡">å°ä¸èµ·<span class="zhuyin">(ã„‰ã„¨ã„ŸË‹ ã„…ã„¨Ë‹ ã„‘ã„§Ë‡)</span></div>
                        <div class="wc-word-card" draggable="true" data-word="è¬ä¸€" data-category-type="æƒ…ç·’/è¡Œç‚ºé¡">è¬ä¸€<span class="zhuyin">(ã„¨ã„¢Ë‹ ã„§)</span></div>
                    </div>
                    <div id="wc-completion-message" class="completion-message hidden">
                        å¤ªæ£’äº†ï¼æ‰€æœ‰è©èªéƒ½åˆ†é¡æ­£ç¢ºï¼ğŸ‰
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- é€šç”¨å›é¥‹å½ˆçª—ç–ŠåŠ å±¤ï¼Œæ‰€æœ‰éŠæˆ²å…±ç”¨ -->
    <div id="global-feedback-overlay" class="feedback-overlay">
        <div id="global-feedback-content" class="feedback-content"></div>
    </div>

    <script>
        // é€šç”¨å‡½æ•¸ï¼šé¡¯ç¤ºå›é¥‹å½ˆçª—
        function showGlobalFeedback(message, isCorrect) {
            const overlay = document.getElementById('global-feedback-overlay');
            const content = document.getElementById('global-feedback-content');
            content.textContent = message;
            content.classList.remove('correct', 'incorrect');
            if (isCorrect) {
                content.classList.add('correct');
            } else {
                content.classList.add('incorrect');
            }
            overlay.classList.add('show');

            setTimeout(() => {
                overlay.classList.remove('show');
            }, 1500); // é¡¯ç¤º 1.5 ç§’
        }

        // --- å°èˆªåŠéŠæˆ²åˆ‡æ›é‚è¼¯ ---
        const navButtons = document.querySelectorAll('.nav-button');
        const gameSections = document.querySelectorAll('.game-section');

        navButtons.forEach(button => {
            button.addEventListener('click', () => {
                const gameToShow = button.dataset.game;

                // ç§»é™¤æ‰€æœ‰æŒ‰éˆ•çš„ active æ¨£å¼
                navButtons.forEach(btn => btn.classList.remove('active'));
                // ç‚ºç•¶å‰é»æ“Šçš„æŒ‰éˆ•æ·»åŠ  active æ¨£å¼
                button.classList.add('active');

                // éš±è—æ‰€æœ‰éŠæˆ²å€å¡Š
                gameSections.forEach(section => section.classList.remove('active'));
                // é¡¯ç¤ºå°æ‡‰çš„éŠæˆ²å€å¡Š
                document.getElementById(`game-${gameToShow}`).classList.add('active');
            });
        });

        // --- éŠæˆ² 1: å­—è©é…å°éŠæˆ² (Word Matching Game) é‚è¼¯ ---
        function initWordMatchingGame() {
            let draggedItemWM = null;
            let matchedPairsWM = 0;
            const totalPairsWM = 8;
            const gameAreaWM = document.getElementById('game-matching'); // ç¢ºä¿åœ¨æ­£ç¢ºçš„éŠæˆ²å€å¡Šå…§æŸ¥æ‰¾

            // é‡ç½®éŠæˆ²ç‹€æ…‹ï¼ˆç•¶é é¢åŠ è¼‰æˆ–åˆ‡æ›å›ä¾†æ™‚ï¼‰
            const leftColumn = gameAreaWM.querySelector('#wm-left-column');
            const rightColumn = gameAreaWM.querySelector('#wm-right-column');
            const originalLeftItems = [
                { word: 'é›', text: 'é›<span class="zhuyin">(ã„ã„§)</span>' },
                { word: 'é›£', text: 'é›£<span class="zhuyin">(ã„‹ã„¢ËŠ)</span>' },
                { word: 'å°', text: 'å°<span class="zhuyin">(ã„‰ã„¨ã„ŸË‹)</span>' },
                { word: 'ç™¾', text: 'ç™¾<span class="zhuyin">(ã„…ã„Ë‡)</span>' },
                { word: 'åƒ', text: 'åƒ<span class="zhuyin">(ã„‘ã„§ã„¢)</span>' },
                { word: 'è¬', text: 'è¬<span class="zhuyin">(ã„¨ã„¢Ë‹)</span>' },
                { word: 'éœ§', text: 'éœ§<span class="zhuyin">(ã„¨Ë‹)</span>' },
                { word: 'ç•«', text: 'ç•«<span class="zhuyin">(ã„ã„¨ã„šË‹)</span>' }
            ];
            const originalRightItems = [
                { match: 'é›', text: 'å…¬é›<span class="zhuyin">(ã„ã„¨ã„¥ ã„ã„§)</span>' },
                { match: 'é›£', text: 'å›°é›£<span class="zhuyin">(ã„ã„¨ã„£Ë‹ ã„‹ã„¢ËŠ)</span>' },
                { match: 'å°', text: 'å°ä¸èµ·<span class="zhuyin">(ã„‰ã„¨ã„ŸË‹ ã„…ã„¨Ë‹ ã„‘ã„§Ë‡)</span>' },
                { match: 'ç™¾', text: 'å››ç™¾å…ƒ<span class="zhuyin">(ã„™Ë‹ ã„…ã„Ë‡ ã„©ã„¢ËŠ)</span>' },
                { match: 'åƒ', text: 'åƒé‡‘<span class="zhuyin">(ã„‘ã„§ã„¢ ã„ã„§ã„£)</span>' },
                { match: 'è¬', text: 'è¬ä¸€<span class="zhuyin">(ã„¨ã„¢Ë‹ ã„§)</span>' },
                { match: 'éœ§', text: 'èµ·éœ§<span class="zhuyin">(ã„‘ã„§Ë‡ ã„¨Ë‹)</span>' },
                { match: 'ç•«', text: 'ç•«å®¶<span class="zhuyin">(ã„ã„¨ã„šË‹ ã„ã„§ã„š)</span>' }
            ];

            // æ¸…ç©ºä¸¦é‡æ–°å¡«å……å…ƒç´ ä»¥é‡ç½®ç‹€æ…‹
            leftColumn.innerHTML = '<h3 class="text-2xl font-bold text-blue-800 mb-4">ç”Ÿå­—</h3>';
            rightColumn.innerHTML = '<h3 class="text-2xl font-bold text-green-800 mb-4">è©èª</h3>';

            originalLeftItems.forEach(item => {
                const div = document.createElement('div');
                div.className = 'wm-drag-item';
                div.draggable = true;
                div.dataset.word = item.word;
                div.innerHTML = item.text;
                leftColumn.appendChild(div);
            });

            originalRightItems.forEach(item => {
                const div = document.createElement('div');
                div.className = 'wm-drop-zone';
                div.dataset.match = item.match;
                div.innerHTML = item.text;
                rightColumn.appendChild(div);
            });

            matchedPairsWM = 0;
            gameAreaWM.querySelector('#wm-feedback-message').classList.add('hidden');


            gameAreaWM.querySelectorAll('.wm-drag-item').forEach(item => {
                item.addEventListener('dragstart', (e) => {
                    draggedItemWM = e.target;
                    e.target.classList.add('wm-dragging');
                });
                item.addEventListener('dragend', (e) => {
                    e.target.classList.remove('wm-dragging');
                });
            });

            gameAreaWM.querySelectorAll('.wm-drop-zone').forEach(zone => {
                zone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    if (!zone.classList.contains('wm-matched')) {
                         zone.classList.add('border-blue-500');
                    }
                });
                zone.addEventListener('dragleave', (e) => {
                    zone.classList.remove('border-blue-500');
                });
                zone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    zone.classList.remove('border-blue-500');

                    if (draggedItemWM && !zone.classList.contains('wm-matched')) {
                        const dragWord = draggedItemWM.dataset.word;
                        const dropMatch = zone.dataset.match;

                        if (dragWord === dropMatch) {
                            zone.classList.add('wm-correct-match', 'wm-matched');
                            draggedItemWM.classList.add('wm-correct-match', 'wm-matched');
                            zone.innerHTML = draggedItemWM.innerHTML; // Copy content
                            draggedItemWM.remove(); // Remove original
                            showGlobalFeedback('æ­£ç¢ºï¼', true);
                            matchedPairsWM++;
                            if (matchedPairsWM === totalPairsWM) {
                                gameAreaWM.querySelector('#wm-feedback-message').classList.remove('hidden');
                            }
                        } else {
                            showGlobalFeedback('ä¸å°å–”ï¼å†è©¦ä¸€æ¬¡ã€‚', false);
                            zone.style.backgroundColor = '#ffcdd2';
                            setTimeout(() => { zone.style.backgroundColor = '#f0f0f0'; }, 500);
                        }
                        draggedItemWM = null;
                    }
                });
            });
        }

        // --- éŠæˆ² 2: è©èªé€ å¥éŠæˆ² (Sentence Construction Game) é‚è¼¯ ---
        function initSentenceConstructionGame() {
            let draggedWordSC = null;
            const correctAnswersSC = {
                's1': 'å››ç™¾å…ƒ', 's2': 'èµ·éœ§', 's3': 'å°ä¸èµ·', 's4': 'ç•«å®¶'
            };
            const completedSentencesSC = new Set();
            const gameAreaSC = document.getElementById('game-sentence');

            // é‡ç½®éŠæˆ²ç‹€æ…‹
            const scSentencesArea = gameAreaSC.querySelector('#sc-sentences-area');
            const scWordOptionsArea = gameAreaSC.querySelector('#sc-word-options');

            scSentencesArea.innerHTML = `
                <div class="sc-sentence-box" data-correct-word="å››ç™¾å…ƒ" data-sentence-id="s1">
                    æˆ‘æœ‰<span class="sc-blank-slot" data-blank-id="b1"></span>ã€‚
                </div>
                <div class="sc-sentence-box" data-correct-word="èµ·éœ§" data-sentence-id="s2">
                    å¤©æ°£å¾ˆå†·ï¼Œè€Œä¸”<span class="sc-blank-slot" data-blank-id="b2"></span>äº†ã€‚
                </div>
                <div class="sc-sentence-box" data-correct-word="å°ä¸èµ·" data-sentence-id="s3">
                    æˆ‘åšéŒ¯äº†äº‹ï¼Œè¦èªª<span class="sc-blank-slot" data-blank-id="b3"></span>ã€‚
                </div>
                <div class="sc-sentence-box" data-correct-word="ç•«å®¶" data-sentence-id="s4">
                    ä»–æ˜¯ä¸€ä½<span class="sc-blank-slot" data-blank-id="b4"></span>ï¼Œæ¯å¤©éƒ½åœ¨ç•«åœ–ã€‚
                </div>
            `;
            scWordOptionsArea.innerHTML = `
                <div class="sc-word-option" draggable="true" data-word="å››ç™¾å…ƒ">å››ç™¾å…ƒ<span class="zhuyin">(ã„™Ë‹ ã„…ã„Ë‡ ã„©ã„¢ËŠ)</span></div>
                <div class="sc-word-option" draggable="true" data-word="åƒé‡‘">åƒé‡‘<span class="zhuyin">(ã„‘ã„§ã„¢ ã„ã„§ã„£)</span></div>
                <div class="sc-word-option" draggable="true" data-word="èµ·éœ§">èµ·éœ§<span class="zhuyin">(ã„‘ã„§Ë‡ ã„¨Ë‹)</span></div>
                <div class="sc-word-option" draggable="true" data-word="å°ä¸èµ·">å°ä¸èµ·<span class="zhuyin">(ã„‰ã„¨ã„ŸË‹ ã„…ã„¨Ë‹ ã„‘ã„§Ë‡)</span></div>
                <div class="sc-word-option" draggable="true" data-word="ç•«å®¶">ç•«å®¶<span class="zhuyin">(ã„ã„¨ã„šË‹ ã„ã„§ã„š)</span></div>
            `;
            completedSentencesSC.clear();
            gameAreaSC.querySelector('#sc-completion-message').classList.add('hidden');


            gameAreaSC.querySelectorAll('.sc-word-option').forEach(option => {
                option.addEventListener('dragstart', (e) => {
                    draggedWordSC = e.target.dataset.word;
                    e.target.classList.add('sc-dragging');
                });
                option.addEventListener('dragend', (e) => {
                    e.target.classList.remove('sc-dragging');
                });
            });

            gameAreaSC.querySelectorAll('.sc-blank-slot').forEach(slot => {
                slot.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    if (!slot.textContent.trim()) {
                        slot.classList.add('active');
                    }
                });
                slot.addEventListener('dragleave', (e) => {
                    slot.classList.remove('active');
                });
                slot.addEventListener('drop', (e) => {
                    e.preventDefault();
                    slot.classList.remove('active');

                    if (draggedWordSC && !slot.textContent.trim()) {
                        const parentSentenceId = slot.closest('.sc-sentence-box').dataset.sentenceId;
                        const correctWord = correctAnswersSC[parentSentenceId];

                        if (draggedWordSC === correctWord) {
                            slot.textContent = draggedWordSC;
                            slot.style.color = '#1a237e';
                            slot.classList.remove('border-dashed', 'border-blue-300');
                            slot.classList.add('sc-correct-feedback');
                            slot.style.cursor = 'default';
                            slot.style.borderColor = '#4caf50';

                            const usedOption = gameAreaSC.querySelector(`.sc-word-option[data-word="${draggedWordSC}"]`);
                            if (usedOption) {
                                usedOption.classList.add('sc-used');
                                usedOption.draggable = false;
                            }

                            completedSentencesSC.add(parentSentenceId);
                            showGlobalFeedback('æ­£ç¢ºï¼', true);
                            checkAllSentencesCompletedSC();
                        } else {
                            showGlobalFeedback('ä¸å°å–”ï¼å†è©¦ä¸€æ¬¡ã€‚', false);
                            slot.classList.add('sc-incorrect-feedback');
                            setTimeout(() => { slot.classList.remove('sc-incorrect-feedback'); }, 800);
                        }
                        draggedWordSC = null;
                    }
                });
            });

            function checkAllSentencesCompletedSC() {
                if (completedSentencesSC.size === Object.keys(correctAnswersSC).length) {
                    gameAreaSC.querySelector('#sc-completion-message').classList.remove('hidden');
                }
            }
        }

        // --- éŠæˆ² 3: è©èªåˆ†é¡éŠæˆ² (Word Categorization Game) é‚è¼¯ ---
        function initWordCategorizationGame() {
            let draggedCardWC = null;
            let matchedCardsCountWC = 0;
            const totalCardsWC = 8;
            const gameAreaWC = document.getElementById('game-categorization');

            // é‡ç½®éŠæˆ²ç‹€æ…‹
            const wcCategoriesContainer = gameAreaWC.querySelector('.grid.gap-6');
            const wcWordCardsArea = gameAreaWC.querySelector('#wc-word-cards-area');

            wcCategoriesContainer.innerHTML = `
                <div id="wc-gold-category" class="wc-category-zone gold" data-category="é‡‘éŒ¢é¡">
                    <h3>ğŸ’° é‡‘éŒ¢é¡</h3>
                    <img src="https://placehold.co/80x80/ffe082/673ab7?text=éŒ¢" alt="é‡‘éŒ¢åœ–æ¡ˆ" class="absolute top-4 right-4 opacity-30">
                </div>
                <div id="wc-person-category" class="wc-category-zone person" data-category="äººç‰©é¡">
                    <h3>ğŸ‘¥ äººç‰©é¡</h3>
                    <img src="https://placehold.co/80x80/c8e6c9/2e7d32?text=äºº" alt="äººç‰©åœ–æ¡ˆ" class="absolute top-4 right-4 opacity-30">
                </div>
                <div id="wc-weather-category" class="wc-category-zone weather" data-category="å¤©æ°£é¡">
                    <h3>ğŸŒ¦ å¤©æ°£é¡</h3>
                    <img src="https://placehold.co/80x80/e1f5fe/1976d2?text=å¤©æ°£" alt="å¤©æ°£åœ–æ¡ˆ" class="absolute top-4 right-4 opacity-30">
                </div>
                <div id="wc-emotion-category" class="wc-category-zone emotion" data-category="æƒ…ç·’/è¡Œç‚ºé¡">
                    <h3>ğŸ§  æƒ…ç·’/è¡Œç‚ºé¡</h3>
                    <img src="https://placehold.co/80x80/bbdefb/0d47a1?text=æ€è€ƒ" alt="æƒ…ç·’åœ–æ¡ˆ" class="absolute top-4 right-4 opacity-30">
                </div>
            `;
            wcWordCardsArea.innerHTML = `
                <div class="wc-word-card" draggable="true" data-word="å››ç™¾å…ƒ" data-category-type="é‡‘éŒ¢é¡">å››ç™¾å…ƒ<span class="zhuyin">(ã„™Ë‹ ã„…ã„Ë‡ ã„©ã„¢ËŠ)</span></div>
                <div class="wc-word-card" draggable="true" data-word="åƒé‡‘" data-category-type="é‡‘éŒ¢é¡">åƒé‡‘<span class="zhuyin">(ã„‘ã„§ã„¢ ã„ã„§ã„£)</span></div>
                <div class="wc-word-card" draggable="true" data-word="ç•«å®¶" data-category-type="äººç‰©é¡">ç•«å®¶<span class="zhuyin">(ã„ã„¨ã„šË‹ ã„ã„§ã„š)</span></div>
                <div class="wc-word-card" draggable="true" data-word="å…¬é›" data-category-type="äººç‰©é¡">å…¬é›<span class="zhuyin">(ã„ã„¨ã„¥ ã„ã„§)</span></div>
                <div class="wc-word-card" draggable="true" data-word="èµ·éœ§" data-category-type="å¤©æ°£é¡">èµ·éœ§<span class="zhuyin">(ã„‘ã„§Ë‡ ã„¨Ë‹)</span></div>
                <div class="wc-word-card" draggable="true" data-word="å›°é›£" data-category-type="æƒ…ç·’/è¡Œç‚ºé¡">å›°é›£<span class="zhuyin">(ã„ã„¨ã„£Ë‹ ã„‹ã„¢ËŠ)</span></div>
                <div class="wc-word-card" draggable="true" data-word="å°ä¸èµ·" data-category-type="æƒ…ç·’/è¡Œç‚ºé¡">å°ä¸èµ·<span class="zhuyin">(ã„‰ã„¨ã„ŸË‹ ã„…ã„¨Ë‹ ã„‘ã„§Ë‡)</span></div>
                <div class="wc-word-card" draggable="true" data-word="è¬ä¸€" data-category-type="æƒ…ç·’/è¡Œç‚ºé¡">è¬ä¸€<span class="zhuyin">(ã„¨ã„¢Ë‹ ã„§)</span></div>
            `;
            matchedCardsCountWC = 0;
            gameAreaWC.querySelector('#wc-completion-message').classList.add('hidden');


            gameAreaWC.querySelectorAll('.wc-word-card').forEach(card => {
                card.addEventListener('dragstart', (e) => {
                    draggedCardWC = e.target;
                    e.target.classList.add('wc-dragging');
                });
                card.addEventListener('dragend', (e) => {
                    e.target.classList.remove('wc-dragging');
                });
            });

            gameAreaWC.querySelectorAll('.wc-category-zone').forEach(zone => {
                zone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    zone.classList.add('active');
                });
                zone.addEventListener('dragleave', (e) => {
                    zone.classList.remove('active');
                });
                zone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    zone.classList.remove('active');

                    if (draggedCardWC) {
                        const cardCategory = draggedCardWC.dataset.categoryType;
                        const zoneCategory = zone.dataset.category;

                        if (cardCategory === zoneCategory) {
                            zone.appendChild(draggedCardWC);
                            draggedCardWC.classList.remove('wc-dragging');
                            draggedCardWC.classList.add('wc-matched');
                            showGlobalFeedback('æ­£ç¢ºï¼', true);
                            matchedCardsCountWC++;
                            checkAllCardsCategorizedWC();
                        } else {
                            showGlobalFeedback('ä¸å°å–”ï¼å†è©¦ä¸€æ¬¡ã€‚', false);
                            zone.style.transform = 'scale(0.98)';
                            setTimeout(() => { zone.style.transform = 'scale(1)'; }, 300);
                        }
                        draggedCardWC = null;
                    }
                });
            });

            function checkAllCardsCategorizedWC() {
                if (matchedCardsCountWC === totalCardsWC) {
                    gameAreaWC.querySelector('#wc-completion-message').classList.remove('hidden');
                }
            }
        }

        // é é¢åŠ è¼‰å®Œæˆå¾Œï¼Œåˆå§‹åŒ–æ‰€æœ‰éŠæˆ²ï¼ˆä¸¦é¡¯ç¤ºç¬¬ä¸€å€‹éŠæˆ²ï¼‰
        document.addEventListener('DOMContentLoaded', () => {
            // åˆå§‹åŒ–æ‰€æœ‰éŠæˆ²ï¼ˆä½†åªé¡¯ç¤ºç¬¬ä¸€å€‹ï¼‰
            initWordMatchingGame();
            initSentenceConstructionGame();
            initWordCategorizationGame();

            // ç¢ºä¿ä¸€é–‹å§‹å°±é¡¯ç¤ºç¬¬ä¸€å€‹éŠæˆ²å€å¡Š
            document.getElementById('game-matching').classList.add('active');
            document.querySelector('.nav-button[data-game="matching"]').classList.add('active');
        });
    </script>
</body>
</html>
